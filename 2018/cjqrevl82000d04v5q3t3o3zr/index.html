<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="java,面试," />





  <link rel="alternate" href="/atom.xml" title="技术博客" type="application/atom+xml" />






<meta name="description" content="Map是java中的接口，Map.Entry是Map的一个内部接口。  Map提供了一些常用方法，如keySet()、entrySet()等方法。   keySet()方法返回值是Map中key值的集合；entrySet()的返回值也是返回一个Set集合，此集合的类型为Map.Entry。   Map.Entry是Map声明的一个内部接口，此接口为泛型，定义为Entry&amp;lt;K,V&amp;gt;。它">
<meta name="keywords" content="java,面试">
<meta property="og:type" content="article">
<meta property="og:title" content="java常见基础问题">
<meta property="og:url" content="https://koreyosh.github.io/2018/cjqrevl82000d04v5q3t3o3zr/index.html">
<meta property="og:site_name" content="技术博客">
<meta property="og:description" content="Map是java中的接口，Map.Entry是Map的一个内部接口。  Map提供了一些常用方法，如keySet()、entrySet()等方法。   keySet()方法返回值是Map中key值的集合；entrySet()的返回值也是返回一个Set集合，此集合的类型为Map.Entry。   Map.Entry是Map声明的一个内部接口，此接口为泛型，定义为Entry&amp;lt;K,V&amp;gt;。它">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-01-11T01:05:19.398Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="java常见基础问题">
<meta name="twitter:description" content="Map是java中的接口，Map.Entry是Map的一个内部接口。  Map提供了一些常用方法，如keySet()、entrySet()等方法。   keySet()方法返回值是Map中key值的集合；entrySet()的返回值也是返回一个Set集合，此集合的类型为Map.Entry。   Map.Entry是Map声明的一个内部接口，此接口为泛型，定义为Entry&amp;lt;K,V&amp;gt;。它">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://koreyosh.github.io/2018/cjqrevl82000d04v5q3t3o3zr/"/>





  <title>java常见基础问题 | 技术博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://koreyosh.github.io/2018/cjqrevl82000d04v5q3t3o3zr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张婷婷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">java常见基础问题</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-02T09:21:03+08:00">
                2018-06-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/question/" itemprop="url" rel="index">
                    <span itemprop="name">question</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <ol>
<li><p>Map是java中的接口，Map.Entry是Map的一个内部接口。</p>
<p> Map提供了一些常用方法，如keySet()、entrySet()等方法。</p>
<p>  keySet()方法返回值是Map中key值的集合；entrySet()的返回值也是返回一个Set集合，此集合的类型为Map.Entry。</p>
<p>  Map.Entry是Map声明的一个内部接口，此接口为泛型，定义为Entry&lt;K,V&gt;。它表示Map中的一个实体（一个key-value对）。接口中有getKey(),getValue方法。</p>
</li>
<li><p>把这个封装到哪个对象中，就用哪个对象.class<br>   泛型：你返回一个集合，集和里面装的什么东西</p>
<pre><code>List&lt;User&gt; list=qr.query(&quot;select * from users&quot;,new BeanListHandler&lt;User&gt;(User.class));
</code></pre></li>
<li><p>BeanHandler:（常用）将一条记录封装到一个JavaBean中</p>
</li>
<li>static (静态）关键字   （共享）<br>  被修饰的成员具备以下特点：<br>   static关键字：用于修饰成员、成员变量和成员函数<br>   随着类的加载而加载<br>   优先于对象存在<br>   被所有对象所共享<br>   可以直接被类名调用<br>   使用注意：<pre><code>静态方法只能访问静态成员
主函数是静态的
静态方法不能写this，super关键字
</code></pre></li>
<li>Integer.parseInt(request.getParameter(“cp”))<br>  意思就是你从页面上得到cp这个变量的值，然后转变成int类型，<br>  再赋值给currentPage这个变量。</li>
<li>ScalarHandler：将单个值封装、例如select count（*），求内容的条数<pre><code>long l =  (Long)qr.query(&quot;select count(*) from book&quot;, new ScalarHandler(1));
</code></pre></li>
<li><p>PageBean的抽取过程</p>
<ul>
<li><p>首先，Servlet从jsp获取当前页码，然后传递给Service也就是业务逻辑层。</p>
</li>
<li><p>service层接收到数据，并且设置pageSize大小;</p>
</li>
<li><p>然后调用dao层查询数据库中的总的记录条数total和查询到的分页后的数据List<prodcut>返回给     service层。</prodcut></p>
</li>
<li><p>service层就有了以下数据：total，pageSize，pageNumber，List<product></product></p>
</li>
<li><p>通过计算可以得到totalPage和startIndex;</p>
</li>
<li><p>问题来了：当我们考虑如何将总页数，查询到的结果List集合一块返回给Servlet呢？<br> 一个方法无法返回两个不同类型的数据。于是我们可以将以上的数据封装到PageBean<br> 中，通过PageBean这个JavaBean封装以上的数据，存取的时候只要操作这一个对象就行。</p>
</li>
</ul>
</li>
<li><p>你导文件的这个标签中不能写入自己的代码，否则你写的代码不能用或者你导入的文件不能用</p>
</li>
<li><p>innerHTML看它的英文单词也可以明白就是里面的字符按html标记的语言格式取出来<br>或重新设置.它是一个属性。</p>
</li>
<li><p>onblur 事件会在对象失去焦点时发生。</p>
</li>
<li><p>给有些属性赋值需要用”:”而不是”=”</p>
</li>
<li><p>调用一个对象的方法则包含(),属性则不包含</p>
</li>
<li><p>cookie的setPath方法–是对地址栏上面的地址约束，确定什么后缀下面能够使用这个cookie</p>
<pre><code>如果tomcat/webapp下面有两个应用：cas和webapp_b， 
  （1） 在cas下面设置cookie,不设置setPath，默认的默认值是生产cookie的应用路径
            若在cas下面生成cookie的时候 增加一条设置正常的cookie只能在一个应用中共
            享，cookie.setPath(&quot;/&quot;);或者cookie.setPath  (&quot;/webapp_b/&quot;);就可以在webapp_b下面获取到cas设置的cookie了。 
  （2）  setPath()中的参数：
           是相对于应用服务器存放应用的文件夹的根目录而言的
           (比如tomcat下面的webapp)，因此cookie.setPath(&quot;/&quot;);
           之后，可以在webapp文件夹下的所有应用共享cookie，
           而 cookie.setPath(&quot;/webapp_b/&quot;)是指cas应用设置的
           cookie只能在webapp_b应用下的获得，即便是产生这
           个cookie的cas应用也不可以
</code></pre></li>
<li><p>request.getSession().setAttribute(“usr”,username);把username回返值保存到session<br>  当前会话中，名称为usr，只要当前会话不过期，任何地方都可以访到 ;<br>  request.setAttribute(“usr”,username);把 username的返回值保存到request当前请求中，<br>  名称为usr，只在当前请求中访问到，其他请求中无法访问</p>
</li>
<li><p>SimpleDateFormat sdf =new SimpleDateFormat(“yyyy-MM-dd”);   //定义格式化规则<br>   Date date = new Date();  //Mon Aug 01 15:17:21 CST 2016</p>
<p>   System.out.println(sdf.format(date));  //2016-08-01    将日期装换成字符串形式</p>
</li>
<li><p>重写父类方法，子类不能抛出比父类更多的异常</p>
</li>
<li><p>绝对路径：一般是指文件在所在盘符的位置，而且是从盘符开始算起，</p>
<pre><code>如某文件位于“C:\ProgramFiles\JiangMin”下面，那么
这个路径就是它的绝对路径。
</code></pre><p>  相对路径：可以理解为绝对路径的部分，且是后半部分。</p>
<pre><code>由当前所处位置而定的，如当前位置是在“C:\Program Files\，
那就可以说某文件处于“JiangMin”这个文件夹下。
</code></pre></li>
<li><p>this.getServletContext().getRealPath(“/WEB-INF/upload”); 来获取网站的物理路径</p>
<pre><code>getRealPath(&quot;/upload&quot;)也可以有参数，作用就是获取在项目根路径下的子文件夹的物
理路径。即E：/aaa/upload。既代表文件又代表目录，上传文件时把文件传入你的设置
的虚拟路径File storeDirectory=new File(directoryRealPath);
</code></pre></li>
<li><p>request.setCharacterEncoding()：用来确保发往服务器的参数以汉字的编码来提取，<br>  设置从request中取得的值或从数据库中取出的值。<br>  指定后可以通过request.getParameter()获取自己想要的字符串,如果没有提前指定，<br>  则会按照 服务器端默认的“iso-8859-1”来进行编码；该方法只对post请求有效，<br>  对get请求无效；对于get请求，应该在server.xml中指定：URIEncoding=utf-8；</p>
<pre><code>注意：在执行request.setCharacterEncoding()之前不能执行request.getParameter()方法；

原因：应该是在执行第一个getParameter()的时候，java将会按照编码分析
          效。而对于GET方法提交表单是，提交的内容在URL中，一开始就已经
          按照编码分析提交内容，setCharacterEncoding()自然就无效。
           response.setCharacterEncoding():设置HTTP 响应的编码，用于设置服务器给客户端的数据的编码
</code></pre></li>
<li><p>PrintWriter out=response.getWriter();</p>
<pre><code>是一个输出流 response.getWriter();
这个是获取了一个输出流 输出的对象是页面 
这就像System.out.print（）一样 只不过这个
输出对象的是命令提示符窗口 他们都是包装好
的实际用输出流时 之前应该指向一个文件的
写代码中的低级错误：
     * 单词拼错
     * 多加或少加空格
     * 空指针异常（没有定义对象，或对象定义出错）
     * 导包的时候导错
</code></pre></li>
<li><p>B/S(Browser/Server)结构,即浏览器和服务器结构。它是对C/S结构的一种变化或者改进的结构。</p>
<p>  C/S 结构，即大家熟知的客户机和服务器结构。它是软件系统体系结构，通过它可以充分利用两      端硬件环境的优势，将任务合理分配到Client端和Server端来实现，降低了系统的通讯开销。</p>
<p>  区别：二者没有本质区别，之所以在C/S架构上提出B/S架构，是为了满足瘦客户端、一体化客户      端的需要，最终目的节约客户端更新、维护等的成本，及广域资源的共享。 　　</p>
<pre><code>（1）B/S属于C/S，浏览器只是特殊的客户端； 　　

（2）C/S可以使用任何通信协议，而B/S这个特殊的C/S架构规定必须实现HTTP协议； 　　

（3）浏览器是一个通用客户端，本质上开发浏览器，还是实现一个C/S系统。
</code></pre><ol start="22">
<li><p>@Autowired是一种函数，可以对成员变量、方法和构造函数进行标注，<br>  来完成自动装配的工作。<br> @Autowired标注可以放在成员变量上，也可以放在成员变量的set方法上。<br> 这里必须明确：@Autowired是根据类型进行自动装配的，如果需要按名称<br> 进行装配，则需要配合@Qualifier[1]使用；</p>
</li>
<li><p>mybatis中refid是什么意思</p>
<pre><code>答：首先定义一个sql标签，一定要定义唯一的
       id&lt;sql id=&quot;Base_Column_List&quot;&gt;name,age&lt;/sql&gt;
       然后通过id引用&lt;select id=&quot;selectAll&quot;&gt;select
       &lt;include refid=&quot;Base_Column_List&quot; /&gt;from student&lt;/select&gt;
        这个&lt;include refid=&quot;Base_Column_List&quot; /&gt;
        会自动把上面的代码贴过来
</code></pre></li>
<li><p>接口和抽象类有什么区别，你选择使用接口和抽象类的依据是什么？<br> 接口和抽象类的概念不一样。接口是对动作的抽象，抽象类是对根源的抽象。<br> 抽象类表示的是，这个对象是什么。接口表示的是，这个对象能做什么。比如，男人，女人，这      两个类（如果是类的话……），他们的抽象类是人。说明，他们都是人。<br> 人可以吃东西，狗也可以吃东西，你可以把“吃东西”定义成一个接口，然后让这些类去实现它.<br> 所以，在高级语言上，一个类只能继承一个类（抽象类）(正如人不可能同时是生物和非生物)，      但是可以实现多个接口(吃饭接口、走路接口)。<br>  总结几句话来说：</p>
<pre><code>* 抽象类和接口都不能直接实例化，如果要实例化，抽象类变量必须指向实现所有抽象方法的子类      对象，接口变量必须指向实现所有接口方法的类对象。

* 抽象类要被子类继承，接口要被类实现。

* 接口只能做方法申明，抽象类中可以做方法申明，也可以做方法实现

* 接口里定义的变量只能是公共的静态的常量，抽象类中的变量是普通变量。

* 抽象类里的抽象方法必须全部被子类所实现，如果子类不能全部实现父类抽象方法，那么该子类
   只能是抽象类。同样，一个实现接口的时候，如不能全部实现接口方法，那么该类也只能为抽象类。

* 抽象方法只能申明，不能实现，接口是设计的结果 ，抽象类是重构的结果

* 抽象类里可以没有抽象方法

* 如果一个类里有抽象方法，那么这个类只能是抽象类

* 抽象方法要被实现，所以不能是静态的，也不能是私有的。

* 接口可继承接口，并可多继承接口，但类只能单根继承。

     1. 抽象类 和 接口 都是用来抽象具体对象的. 但是接口的抽象级别最高
     2. 抽象类可以有具体的方法 和属性,  接口只能有抽象方法和不可变常量
     3. 抽象类主要用来抽象类别,接口主要用来抽象功能.
     4. 抽象类中，且不包含任何实现，派生类必须覆盖它们。接口中所有方
         法都必须是未实现的。当你关注一个事物的本质的时候，用抽象类；
         当你关注一个操作的时候，用接口。抽象类的功能要远超过接口，但
         是，定义抽象类的代价高。因为高级语言来说（从实际设计上来 说也是）每个类只能继承一个类。
         在这个类中，你必须继承或编
         写出其所有子类的所有共性。虽然接口在功能上会弱化许多，但是
         它只是针对一个动作的描述。而且你可以在一个类中同时实现多个
         接口。在设计阶段会降低难度的。
</code></pre></li>
<li><p>我们在开发mybatis时要注意四点开发规范：<br>(1) mapper.xml中namespace等于mapper接口地址<br>(2) mapper.java接口中的方法名和mapper.xml中statement的id一致<br>(3) mapper.java接口中的方法输入参数类型和mapper.xml中statement的parameterType指定的类            型一致。<br>(4) mapper.java接口中的方法返回值类型和mapper.xml中statement的resultType指定的类型一致。</p>
</li>
</ol>
</li>
</ol>
<ol start="26">
<li><p>pojo和javabean的区别</p>
<pre><code>POJO 和JavaBean是我们常见的两个关键字，一般容易混淆，
POJO全称是Plain Ordinary Java Object / Pure Old Java Object，
中文可以翻译成:普通Java类，具有一部分getter/setter
方法的那种类就可以称作POJO，但是JavaBean则比 POJO复杂很
多，Java Bean是可复用的组件，对Java Bean 并没有严格的规范，
理论上讲，任何一个 Java 类都可以是一个 Bean 。但通常情况下，
由于 JavaBean 是被容器所创建(如 Tomcat) 的，所以JavaBean 
应具有一个无参的构造器。

另外，通常 JavaBean Serializable接口用于实现 Bean 的持久性。
JavaBean是不能被跨进程访问的。
JavaBean是一种组件技术，就好像你做了一个扳，而这个扳
子会在很多地方 被拿去用，这个扳子也提供多种功能(你可以
拿这个扳子扳、锤、撬等等)，而这个扳子就是一个组件。

一般在web应用程序中建立一个数据库的映射对象时，我们只能称它为POJO。
POJO(Plain OldJava Object)这个名字用来强调它是一个普通java对象，而不
是一个特殊的对象，其主要用来指代那些没有遵从特定的Java对象模型、约定
或框架(如EJB)的Java对象。理想地讲，一个POJO是一个不受任何限制的Java
对象(除了Java语言规范)。
</code></pre></li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/java/" rel="tag"># java</a>
          
            <a href="/tags/面试/" rel="tag"># 面试</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/cjqrevl7c000204v53tk344r2/" rel="next" title="AsyncTask的使用与演示（加载图片）">
                <i class="fa fa-chevron-left"></i> AsyncTask的使用与演示（加载图片）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/cjqrevl7t000904v50qtn7pyw/" rel="prev" title="数据结构常见基础问题">
                数据结构常见基础问题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/header.jpg"
                alt="张婷婷" />
            
              <p class="site-author-name" itemprop="name">张婷婷</p>
              <p class="site-description motion-element" itemprop="description">我有一个梦想，面朝大海春暖花开</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">张婷婷</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
